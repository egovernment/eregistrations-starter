#!/usr/bin/env node

'use strict';

Error.stackTraceLimit = Infinity;

// Prevent EMFILE errors
require('fs2/descriptors-handler')();

var resolve         = require('path').resolve
  , genClientModels = require('../scripts/generate-all-client-models')

  , program = require('commander').usage('[options] [path]')
	.option('--name <app-name>', "Specific app that should be setup")
	.parse(process.argv);

genClientModels(program.args.length ? resolve(program.args[0]) : process.cwd(),
	program.name, process.stdout.write.bind(process.stdout)).done();
