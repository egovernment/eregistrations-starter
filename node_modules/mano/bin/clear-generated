#!/usr/bin/env node

'use strict';

Error.stackTraceLimit = Infinity;

// Prevent EMFILE errors
require('fs2/descriptors-handler')();

var resolve     = require('path').resolve
  , clear       = require('../scripts/clear-generated')

  , stdout = process.stdout.write.bind(process.stdout)
  , program = require('commander').usage('[path]').parse(process.argv);

stdout("Clear generated scripts...");
clear(program.args.length ? resolve(program.args[0]) : process.cwd())
	.done(function () { stdout(" all clean\n"); });
