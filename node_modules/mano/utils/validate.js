'use strict';

var copyDeep         = require('es5-ext/object/copy-deep')
  , normalizeOptions = require('es5-ext/object/normalize-options')
  , dbjsValidate     = require('../lib/utils/dbjs-form-validate');

module.exports = function (data/*, options*/) {
	var normalizedData = copyDeep(data);
	dbjsValidate(normalizedData, normalizeOptions({ changedOnly: true }, arguments[1]));
	return normalizedData;
};
