'use strict';

var dbjsCreate = require('../lib/utils/dbjs-form-create')
  , dbjsSave   = require('../lib/utils/dbjs-form-save')

  , keys = Object.keys
  , isProtoPropertyName = RegExp.prototype.test.bind(/^[A-Z][a-zA-Z0-9]*#\//);

module.exports = function (normalizedData, data) {
	if (isProtoPropertyName(keys(data)[0])) {
		this.target = dbjsCreate.call(this, normalizedData);
	} else {
		dbjsSave.call(this, normalizedData);
	}
	return true;
};
