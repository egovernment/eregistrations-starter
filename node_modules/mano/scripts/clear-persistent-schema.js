'use strict';

var startsWith  = require('es5-ext/string/#/starts-with')
  , plainUpdate = require('./plain-dbjs-update');

module.exports = function (path/*, log*/) {
	return plainUpdate(path, function (id) {
		if ((id[0] === ':') ||
				(id[0] === '#') ||
				(id[0] === '"') ||
				startsWith.call(id, 'Base:') ||
				startsWith.call(id, 'Boolean:') ||
				startsWith.call(id, 'DateTime:') ||
				startsWith.call(id, 'Function:') ||
				startsWith.call(id, 'Number:') ||
				startsWith.call(id, 'Object:') ||
				startsWith.call(id, 'RegExp:') ||
				startsWith.call(id, 'String:')) {
			return false;
		}
	}, { log: arguments[1] });
};
