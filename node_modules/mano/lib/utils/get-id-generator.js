'use strict';

var memoize = require('memoizee/plain')
  , toIdent = require('./to-ident');

module.exports = memoize(function (set) {
	return function (label) {
		var name = toIdent(label), count;
		if (!set.has(name)) return name;
		count = 2;
		while (set.has(name + '-' + count)) ++count;
		return name + '-' + count;
	};
}, { normalizer: require('memoizee/normalizers/get-1')() });
