'use strict';

var forEach = require('es5-ext/object/for-each')

  , re = /\.([a-z][a-z0-9A-Z]*)$/;

module.exports = function (data) {
	forEach(data, function (value, name) {
		var match = name.match(re), nuName;
		if (!match) return;
		nuName = name.slice(0, -match[0].length);
		if (!data[nuName]) data[nuName] = {};
		data[nuName][match[1]] = value;
		delete data[name];
	});
	return data;
};
