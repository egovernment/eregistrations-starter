'use strict';

var d           = require('d')
  , makeElement = require('dom-ext/document/#/make-element')
  , DOMInput    = require('dbjs-dom/input/3.number').Input

  , defineProperty = Object.defineProperty
  , _render = DOMInput.prototype._render
  , Input;

Input = function (document, ns/*, options*/) {
	DOMInput.apply(this, arguments);
};

Input.prototype = Object.create(DOMInput.prototype, {
	constructor: d(Input),
	_render: d(function () {
		var el = makeElement.bind(this.document);
		_render.call(this);
		this.dom = el('span', { class: 'input-prepend' },
			el('span', { class: 'add-on' }, this.type.symbol || this.type.isoCode), this.control);
	})
});

module.exports = function (db) {
	defineProperty(db.Currency, 'DOMInput', d(Input));
};
