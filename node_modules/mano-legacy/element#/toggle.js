'use strict';

var main = module.exports = require('./main'), include, exclude;

main.exclude = exclude = function () {
	if (!this.parentNode) return;
	if (!this._domExtLocation) {
		this._domExtLocation = this.parentNode.insertBefore(this.ownerDocument
			.createTextNode(''), this.nextSibling);
	}
	this.parentNode.removeChild(this);
};

main.include = include = function () {
	if (!this._domExtLocation) {
		if (this.parentNode) return;
		throw new Error("DOM error: Cannot include, location not set");
	}
	if (this._domExtLocation.parentNode === this.parentNode) return;
	this._domExtLocation.parentNode.insertBefore(this, this._domExtLocation);
};

main.toggle = function (value) {
	if (value) include.call(this);
	else exclude.call(this);
};
