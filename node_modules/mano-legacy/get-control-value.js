'use strict';

module.exports = require('./main').getControlValue = function (control) {
	var nodeName, type;
	nodeName = control.nodeName.toLowerCase();
	if (nodeName === 'select') return control.value || null;
	if (nodeName === 'input') {
		type = control.getAttribute('type') || 'text';
		type = type.toLowerCase();
		if ((type === 'submit') || (type === 'image') || (type === 'reset') ||
				(type === 'button')) {
			return null;
		}
		if (type === 'number') {
			return isNaN(control.value) ? 0 : Number(control.value);
		}
		return control.value;
	}
	return null;
};
